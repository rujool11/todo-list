(()=>{"use strict";const e=()=>{document.querySelector(".fullcover").remove()};function t(e,t,n){this.name=e,this.desc=t,this.priority=n}function n(e,t,n){let o=document.createElement("button");return o.innerText=e,o.classList.add(t),o.addEventListener("click",n),o}function o(){this.parentNode.parentNode.querySelector(".projDiv").classList.toggle("strikethrough")}function r(){i(this)}const i=e=>{e.parentNode.parentNode.remove()};function l(e,t){return Math.floor(Math.random()*(t-e+1)+e)}document.querySelector("#theme").addEventListener("click",(()=>{let e=document.querySelector("body").style.backgroundImage.charAt(24),t=l(1,10);for(;e===t;)t=l(1,10);let n="./assets/images/img"+t+".jpg";document.querySelector("body").style.backgroundImage=`url('${n}')`})),document.querySelector("#new").addEventListener("click",(async i=>{i.preventDefault(),await void new Promise(((n,o)=>{(()=>{let e=document.createElement("div");e.classList.add("fullcover");let t=document.createElement("div");t.classList.add("formDiv"),t.innerHTML='\n    <form action="./index.html">\n    <label for="title"></label>\n    <input type="text" id="title" name="title" required placeholder="Title">\n    <br>\n    <label for="description"></label>\n    <input id="description" name="description"required placeholder="Description">\n    <br>\n    <label for="priority"></label>\n    <select id="priority" name="priority" required>\n        <option value="urgent">Urgent</option>\n        <option value="normal">Normal</option>\n    </select>\n    <br>\n    <input value="Submit" type="button" name="submit" id="submitbutton">\n    <br>\n    </form>\n    <button id=\'x\'>x</button>\n    ',e.appendChild(t),document.querySelector("body").appendChild(e)})(),document.querySelector("#submitbutton").addEventListener("click",(()=>{let o=document.getElementById("title").value,r=document.getElementById("priority").value,i=new t(o,document.getElementById("description").value,r);e(),n(i)})),document.querySelector("#x").addEventListener("click",(()=>{e(),o(new Error("Form submission canceled."))}))})).then((e=>((e=>{const t=document.querySelector("#tasks"),i=(e=>{const t=document.createElement("div");t.classList.add("mDiv");const i=document.createElement("div");i.classList.add("task","projDiv");const l=document.createElement("h3"),c=document.createElement("p"),d=document.createElement("p");l.textContent=`${e.name}`,c.textContent=`${e.desc}`,d.textContent=`${e.priority}`,"urgent"===e.priority?d.classList.add("urgent"):d.classList.add("normal"),i.appendChild(l),i.appendChild(c),i.appendChild(d);const s=n("Completed","doneButton",o),a=n("Delete","deleteButton",r),u=document.createElement("div");return u.classList.add("buttonsDiv"),u.appendChild(a),u.appendChild(s),t.appendChild(i),t.appendChild(u),t})(e);t.appendChild(i)})(e),e))).catch((e=>(console.error(e),null)))})),document.querySelector("#all").addEventListener("click",(function(){document.querySelectorAll(".mDiv").forEach((e=>{e.classList.remove("invisible")}))})),document.querySelector("#urgent").addEventListener("click",(function(){const e=document.querySelectorAll(".urgent"),t=document.querySelectorAll(".normal");e.forEach((e=>{e.closest(".mDiv").classList.remove("invisible")})),t.forEach((e=>{e.closest(".mDiv").classList.add("invisible")}))})),document.querySelector("#normal").addEventListener("click",(function(){const e=document.querySelectorAll(".urgent"),t=document.querySelectorAll(".normal");e.forEach((e=>{e.closest(".mDiv").classList.add("invisible")})),t.forEach((e=>{e.closest(".mDiv").classList.remove("invisible")}))}))})();